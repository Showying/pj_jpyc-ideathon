<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Creator Flow (GCF) Mockup</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!-- Mode Switcher -->
    <button id="role-toggle" class="role-switcher">
        üë§ Creator Mode
        <div class="annotation-wrapper" style="display:inline-block;">
            <span class="annotation-marker" onclick="event.stopPropagation(); toggleTooltip(this)" style="display:none;"
                id="anno-role-switch">‚ë®</span>
            <div class="annotation-tooltip" style="top:30px; right:0; left:auto; transform:none;">
                <strong>Check Result</strong><br>
                Â£≤‰∏ä„ÅÆÁ¢∫Ë™ç„ÅÆ„Åü„ÇÅ„ÄÅ<br>
                Creator Mode„Å´Êàª„Çä„Åæ„Åô„ÄÇ
            </div>
        </div>
    </button>

    <div class="container">

        <!-- === SECTION: DASHBOARD (HOME) === -->
        <section id="home" class="section active">
            <header class="flex justify-between items-center" style="margin-bottom: 24px;">
                <h1 class="font-bold text-lg">Dashboard</h1>
                <div class="user-avatar" style="width: 32px; height: 32px; background: #ddd; border-radius: 50%;"></div>
            </header>

            <!-- Wallet Card -->
            <div class="card balance-card" style="position: relative; overflow: hidden;">
                <div class="text-xs" style="opacity: 0.8;">Total Balance</div>
                <div class="flex items-center gap-2" style="margin-top: 4px;">
                    <span class="font-bold" style="font-size: 2rem;">¬•<span id="wallet-balance">0</span></span>
                    <span class="text-sm"
                        style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 12px;">JPYC</span>
                </div>
                <div class="text-xs" style="margin-top: 12px; opacity: 0.9;">
                    Last payout: Just now
                </div>
                <!-- Instant Liquidity Demo Button -->
                <button id="btn-sim-sale"
                    style="position: absolute; right: 10px; top: 10px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.6rem; cursor: pointer;">
                    ‚ö° Sim Sale
                </button>
            </div>

            <!-- Stats -->
            <div class="card">
                <h3 class="font-bold text-sm" style="margin-bottom: 12px;">Performance</h3>
                <div class="flex justify-between text-center">
                    <div>
                        <div class="text-xs text-muted">Views</div>
                        <div class="font-bold">1.2k</div>
                    </div>
                    <div>
                        <div class="text-xs text-muted">Orders</div>
                        <div class="font-bold text-primary">24</div>
                    </div>
                    <div>
                        <div class="text-xs text-muted">Avg. Profit</div>
                        <div class="font-bold text-accent">22%</div>
                    </div>
                </div>
            </div>

            <!-- Recent Items -->
            <h3 class="font-bold text-sm" style="margin-bottom: 12px;">My Products</h3>
            <div class="card flex items-center gap-4">
                <img src="assets/mug.jpg" alt="Item"
                    style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;">
                <div style="flex: 1;">
                    <div class="font-bold text-sm">Sci-Fi Bonsai Mug</div>
                    <div class="text-xs text-muted">1,600 JPYC</div>
                </div>
                <div class="text-accent font-bold text-sm">+700</div>
            </div>

            <div class="card flex items-center gap-4">
                <img src="assets/pouch.jpg" alt="Item"
                    style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;">
                <div style="flex: 1;">
                    <div class="font-bold text-sm">Sci-Fi Bonsai Pouch</div>
                    <div class="text-xs text-muted">900 JPYC</div>
                </div>
                <div class="text-accent font-bold text-sm">+200</div>
            </div>
        </section>


        <!-- === SECTION: MANAGE (WAS CREATE) === -->
        <section id="manage" class="section">
            <header class="text-center" style="margin-bottom: 24px;">
                <h1 class="font-bold text-lg">Product Management</h1>
                <p class="text-xs text-muted">Agentic Workflow: Active</p>
                <div class="annotation-wrapper" style="position: absolute; top: 20px; right: 20px;">
                    <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë†</span>
                    <div class="annotation-tooltip" style="width: 180px; left: auto; right: 0; transform: none;">
                        <strong>Start Here</strong><br>
                        "Operational Pain"„ÇíËß£Ê±∫„ÄÇ<br>
                        AIÂ∫óÈï∑„Å´„Çà„ÇãËá™ÂãïÂåñ„ÇíÈñãÂßã„Åó„Åæ„Åô„ÄÇ
                    </div>
                </div>
            </header>

            <div class="card">
                <label class="text-xs font-bold text-muted">NEW ITEM PROMPT</label>
                <textarea id="ai-prompt"
                    placeholder="Describe your idea... (e.g. 'A retro futuristic city in pastel colors')"
                    style="width: 100%; padding: 12px; border: 1px solid #E5E7EB; border-radius: 8px; margin-top: 8px; font-family: inherit; resize: none; height: 80px;"></textarea>

                <div class="flex gap-2" style="margin-top: 12px;">
                    <button class="btn btn-secondary text-xs" style="padding: 8px;">Style: Sci-Fi</button>
                    <button class="btn btn-secondary text-xs" style="padding: 8px;">Item: Art Book</button>
                </div>

                <div style="margin-top: 24px;">
                    <button id="btn-generate" class="btn btn-primary" style="position: relative;">
                        Generate Idea
                        <div class="annotation-wrapper" style="display:inline-block; margin-left:8px;">
                            <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë°</span>
                            <div class="annotation-tooltip">
                                <strong>AI Agent Execution</strong><br>
                                Èù¢ÂÄí„Å™Áô∫Ê≥®„ÉªË®àÁÆó„ÉªÂ•ëÁ¥ÑÊõ∏‰ΩúÊàê„Çí<br>
                                AI„ÅåÊï∞Áßí„ÅßÂÆå‰∫Ü„Åï„Åõ„Åæ„Åô„ÄÇ
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Automation Log (Setup Phase) -->
            <div id="automation-log" class="card"
                style="background: #111827; color: #10B981; font-family: monospace; font-size: 0.75rem; display: none;">
                <div
                    style="border-bottom: 1px solid #374151; padding-bottom: 8px; margin-bottom: 8px; font-weight: bold; color: #9CA3AF;">
                    >_ SETUP LOG (AI Agent)
                </div>
                <div id="log-content"></div>
            </div>

            <!-- Execution Log (Result Phase) -->
            <div id="execution-log" class="card"
                style="background: #1e1b4b; color: #38bdf8; font-family: monospace; font-size: 0.75rem; display: none; margin-top: 12px; border: 1px solid #4338ca;">
                <div
                    style="border-bottom: 1px solid #4c1d95; padding-bottom: 8px; margin-bottom: 8px; font-weight: bold; color: #a78bfa;">
                    >_ EXECUTION LOG (Smart Contract)
                    <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë®</span>
                    <div class="annotation-tooltip" style="bottom: auto; top: 120%;">
                        <strong>Âá¶ÁêÜÂÆå‰∫Ü</strong><br>
                        ÂïÜÂìÅ„ÅåÂ£≤„Çå„Çã„Å®„ÄÅ„Åì„Åì„Å´„É™„Ç¢„É´„Çø„Ç§„É†„Åß<br>
                        ÂÆüË°å„É≠„Ç∞ÔºàËá™ÂãïÂàÜÈÖçÔºâ„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ
                    </div>
                </div>
                <div id="execution-log-content"></div>
            </div>

            <!-- Result Preview (Hidden initially) -->
            <div id="gen-preview" class="card" hidden>
                <div style="position: relative;">
                    <span
                        style="position: absolute; top: 10px; left: 10px; background: black; color: white; font-size: 0.6rem; padding: 2px 6px; border-radius: 4px;">AI
                        GENERATED</span>
                    <!-- REPLACE WITH YOUR PRODUCT IMAGE HERE -->
                    <img src="assets/artbook.jpg" class="product-image" alt="Generated">
                </div>

                <div style="margin-top: 16px;">
                    <h3 class="font-bold">Sci-Fi Bonsai Art Book</h3>

                    <div style="margin-top: 16px; background: #F9FAFB; padding: 12px; border-radius: 8px;">
                        <div class="text-xs font-bold text-muted" style="margin-bottom: 8px;">TRIGGER & SPLIT (Ëá™ÂãïÂàÜÈÖç)
                        </div>

                        <!-- Selling Price Row -->
                        <div
                            style="display: flex; justify-content: space-between; margin-bottom: 8px; padding-bottom: 8px; border-bottom: 2px solid #E5E7EB;">
                            <div class="font-bold">Ë≤©Â£≤‰æ°Ê†º (Price)</div>
                            <div class="font-bold">1,800 JPYC</div>
                        </div>

                        <div class="cost-breakdown">
                            <!-- Point 1: Automation -->
                            <div class="text-muted annotation-wrapper">
                                Âéü‰æ° (Factory)
                                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë¢</span>
                                <div class="annotation-tooltip">
                                    <strong>ÂÆåÂÖ®Ëá™ÂãïÁô∫Ê≥®</strong><br>
                                    Ê≥®Êñá„Å®ÂêåÊôÇ„Å´Â∑•Â†¥„Å∏„Éá„Éº„ÇøÈÄÅ‰ªò„ÄÇ<br>
                                    "AIÂ∫óÈï∑"„Åå24ÊôÇÈñì365Êó•ÂÉç„Åç„Åæ„Åô„ÄÇ
                                </div>
                            </div>
                            <div class="text-right">800 JPYC</div>

                            <div class="text-muted">ÈÄÅÊñô (Logistics)</div>
                            <div class="text-right">500 JPYC</div>

                            <div class="text-muted">Gas‰ª£</div>
                            <div class="text-right text-xs" style="color: #6B7280;">Á¥Ñ 1 JPYC</div>

                            <!-- Point 2: Zero Fees -->
                            <div class="text-muted annotation-wrapper"
                                style="text-decoration: line-through; color: #EF4444;">
                                PFÊâãÊï∞Êñô & ÊåØËæºÊâãÊï∞Êñô
                                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë£</span>
                                <div class="annotation-tooltip">
                                    <strong>‰∏≠Êäú„Åç„Çº„É≠</strong><br>
                                    „Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†ÊâãÊï∞Êñô„ÇÇ„ÄÅ<br>
                                    750ÂÜÜ„ÅÆÊåØËæºÊâãÊï∞Êñô„ÇÇ‰∏çË¶Å„Åß„Åô„ÄÇ
                                </div>
                            </div>
                            <div class="text-right text-accent font-bold">0 JPYC</div>
                        </div>

                        <!-- Point 3: Profit -->
                        <div class="annotation-wrapper"
                            style="border-top: 1px solid #E5E7EB; margin-top: 8px; padding-top: 8px; display: flex; justify-content: space-between; align-items: center;">
                            <div class="font-bold flex items-center">
                                Your Profit (Âà©Áõä)
                                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë§</span>
                                <div class="annotation-tooltip">
                                    <strong>Âç≥ÊôÇÁùÄÈáë (+28%)</strong><br>
                                    Â£≤„Çå„ÅüÁû¨Èñì„Å´„Ç¶„Ç©„É¨„ÉÉ„Éà„Å∏„ÄÇ<br>
                                    „Ç≠„É£„ÉÉ„Ç∑„É•„Éï„É≠„Éº„ÅÆÊÇ©„Åø„Åã„ÇâËß£Êîæ„ÄÇ
                                </div>
                            </div>
                            <div class="font-bold text-primary text-lg">+500 JPYC</div>
                        </div>
                    </div>

                    <div style="margin-top: 24px;">
                        <button id="btn-publish" class="btn btn-primary"
                            style="background: linear-gradient(135deg, #10B981, #059669); position: relative;">
                            Publish to Market
                            <div class="annotation-wrapper" style="display:inline-block; margin-left:8px;">
                                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë•</span>
                                <div class="annotation-tooltip">
                                    <strong>Smart Contract Deploy</strong><br>
                                    „ÉØ„É≥„ÇØ„É™„ÉÉ„ÇØ„Åß‰∏ñÁïå‰∏≠„ÅÆÂ∏ÇÂ†¥„Å∏„ÄÇ<br>
                                    Ëá™ÂãïÂàÜÈÖçÂ•ëÁ¥Ñ„Åå„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥„Å´Âàª„Åæ„Çå„Åæ„Åô„ÄÇ
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </section>


        <!-- === SECTION: MARKET (BUYER VIEW) === -->
        <section id="market" class="section">
            <header class="text-center" style="margin-bottom: 24px;">
                <h1 class="font-bold text-lg">Marketplace</h1>
            </header>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <!-- Product 1: Art Book -->
                <div class="card" style="padding: 8px; cursor: pointer;" onclick="buyItem(this, 1800)">
                    <div style="position: relative;">
                        <div class="annotation-wrapper" style="position: absolute; top: 5px; right: 5px; z-index:10;">
                            <span class="annotation-marker"
                                onclick="event.stopPropagation(); toggleTooltip(this)">‚ëß</span>
                            <div class="annotation-tooltip" style="right:0; left:auto; transform:none;">
                                <strong>Buy Action</strong><br>
                                Ë≥ºÂÖ•„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ<br>
                                „Åù„ÅÆÂæå„ÄÅCreator Mode„Å´Êàª„Å£„Å¶<br>
                                „É≠„Ç∞„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åô„ÄÇ
                            </div>
                        </div>
                        <img src="assets/artbook.jpg" class="product-image" alt="Item">
                        <div class="split-animation-container"
                            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;">
                        </div>
                    </div>
                    <div style="padding: 4px;">
                        <div class="font-bold text-sm">Sci-Fi Bonsai Art Book</div>
                        <div class="text-xs text-muted">1,800 JPYC</div>
                        <!-- Add a visual 'Buy' indicator for Buyer mode -->
                        <div class="buy-indicator text-xs text-primary font-bold"
                            style="margin-top: 4px; display: none;">Tap to Buy</div>
                    </div>
                </div>
                <!-- Product 2: Mug -->
                <div class="card" style="padding: 8px; cursor: pointer;" onclick="buyItem(this, 1600)">
                    <div style="position: relative;">
                        <img src="assets/mug.jpg" class="product-image" alt="Item">
                        <div class="split-animation-container"
                            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;">
                        </div>
                    </div>
                    <div style="padding: 4px;">
                        <div class="font-bold text-sm">Sci-Fi Bonsai Mug</div>
                        <div class="text-xs text-muted">1,600 JPYC</div>
                        <div class="buy-indicator text-xs text-primary font-bold"
                            style="margin-top: 4px; display: none;">Tap to Buy</div>
                    </div>
                </div>
                <!-- Product 3: Clear File -->
                <div class="card" style="padding: 8px; cursor: pointer;" onclick="buyItem(this, 500)">
                    <div style="position: relative;">
                        <img src="assets/clearfile.png" class="product-image" alt="Item">
                        <div class="split-animation-container"
                            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;">
                        </div>
                    </div>
                    <div style="padding: 4px;">
                        <div class="font-bold text-sm">Sci-Fi Bonsai File</div>
                        <div class="text-xs text-muted">500 JPYC</div>
                        <div class="buy-indicator text-xs text-primary font-bold"
                            style="margin-top: 4px; display: none;">Tap to Buy</div>
                    </div>
                </div>
                <!-- Product 4: Pouch -->
                <div class="card" style="padding: 8px; cursor: pointer;" onclick="buyItem(this, 900)">
                    <div style="position: relative;">
                        <img src="assets/pouch.jpg" class="product-image" alt="Item">
                        <div class="split-animation-container"
                            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); pointer-events: none;">
                        </div>
                    </div>
                    <div style="padding: 4px;">
                        <div class="font-bold text-sm">Sci-Fi Bonsai Pouch</div>
                        <div class="text-xs text-muted">900 JPYC</div>
                        <div class="buy-indicator text-xs text-primary font-bold"
                            style="margin-top: 4px; display: none;">Tap to Buy</div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#home" class="nav-item active">
            <span class="nav-icon">üè†</span>
            <span>Home</span>
        </a>
        <a href="#manage" class="nav-item">
            <div class="annotation-wrapper" style="position: absolute; top: -8px; left: 50%; margin-left: 10px;">
                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë†</span>
                <div class="annotation-tooltip" style="width: 180px; bottom: 150%;">
                    <strong>Start Here</strong><br>
                    "Operational Pain"„ÇíËß£Ê±∫„ÄÇ<br>
                    AIÂ∫óÈï∑„Å´„Çà„ÇãËá™ÂãïÂåñ„ÇíÈñãÂßã„Åó„Åæ„Åô„ÄÇ
                </div>
            </div>
            <span class="nav-icon"
                style="font-size: 2rem; margin-top: -12px; filter: drop-shadow(0 4px 6px rgba(37,99,235,0.3));">‚ú®</span>
            <span style="font-weight: bold; color: var(--primary);">Manage</span>
        </a>
        <a href="#market" class="nav-item">
            <span class="nav-icon">üõí</span>
            <span>Market</span>
            <div class="annotation-wrapper" style="position: absolute; top: -8px; left: 50%; margin-left: 10px;">
                <span class="annotation-marker" onclick="toggleTooltip(this)">‚ë¶</span>
                <div class="annotation-tooltip" style="width: 150px; bottom: 150%;">
                    <strong>Buyer View</strong><br>
                    Ë≥ºÂÖ•ËÄÖ„ÅÆË¶ñÁÇπ„Åß„Åô„ÄÇ
                </div>
            </div>
        </a>
    </nav>

    <script src="js/app.js"></script>
</body>

</html>